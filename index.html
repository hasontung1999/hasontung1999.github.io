<!DOCTYPE html>
<html>
	<head></head>
	<body>
		<video id="v" controls loop src="peaceful.mp4"></video>
		<canvas id="c" style="border: 1px solid black"></canvas>
		<script type="text/javascript">
			var canvas=document.querySelector("canvas");
			var context=canvas.getContext('2d');

			document.addEventListener('DOMContentLoaded',function()
			{
				var v=document.querySelector('#c');
				var context=canvas.getContext('2d');
				v.addEventListener('loadedmetadata',function()
				{
					canvas.width=this.videoWidth;
					canvas.height=this.videoHeight;
					//this.videoWidth=canvas.width;
					//this.videoHeight=canvas.height;
				});
				var draw=function()
				{
					canvas.getContext('2d').drawImgae(v,0,0);
				}
				v.addEventListener('play',function()
				{
					if(v.paused||v.ended) return;
					draw();
				});

			});
		</script>
	</body>
</html>